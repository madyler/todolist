{"ast":null,"code":"import { v1 } from \"uuid\";\nexport const tasksReducer = (state, action) => {\n  switch (action.type) {\n    case \"REMOVE-TASK\":\n      let todolistTasks = state[action.todolistId];\n      state[action.todolistId] = todolistTasks.filter(t => t.id !== action.taskId);\n      return { ...state\n      };\n\n    case \"ADD-TASK\":\n      let todolistTasks1 = state[action.todolistId];\n      state[action.todolistId] = [{\n        id: v1(),\n        title: action.taskTitle,\n        isDone: false\n      }, ...todolistTasks1];\n      return { ...state\n      };\n\n    case \"CHANGE-STATUS\":\n      let task = state[action.todolistId].find(t => t.id === action.taskId);\n      if (task) task.isDone = action.isDone;\n      return { ...state\n      };\n\n    case \"CHANGE-TITLE\":\n      let todolistTasks3 = state[action.todolistId];\n      let task1 = todolistTasks3.find(t => t.id === action.taskId);\n      if (task1) task1.title = action.taskTitle;\n      return { ...state\n      };\n\n    case 'ADD-TODOLIST':\n      const stateCopy = { ...state\n      };\n      stateCopy[action.todolistId] = [];\n      return stateCopy;\n    //{...state, [action.todolistId]: []}\n\n    case 'REMOVE-TODOLIST':\n      delete state[action.id];\n      return { ...state\n      };\n\n    default:\n      throw new Error('incorrect task reducer action type');\n  }\n};\nexport const removeTaskAC = (todolistId, taskId) => {\n  return {\n    type: 'REMOVE-TASK',\n    todolistId,\n    taskId\n  };\n};\nexport const addTaskAC = (todolistId, taskTitle) => {\n  return {\n    type: \"ADD-TASK\",\n    todolistId,\n    taskTitle\n  };\n};\nexport const changeTaskStatusAC = (todolistId, taskId, isDone) => {\n  return {\n    type: \"CHANGE-STATUS\",\n    todolistId,\n    taskId,\n    isDone\n  };\n};\nexport const changeTaskTitleAC = (todolistId, taskId, taskTitle) => {\n  return {\n    type: \"CHANGE-TITLE\",\n    todolistId,\n    taskId,\n    taskTitle\n  };\n};","map":{"version":3,"sources":["/home/alex/IT-INCUBATOR/todolist/src/store/tasks-reducers.ts"],"names":["v1","tasksReducer","state","action","type","todolistTasks","todolistId","filter","t","id","taskId","todolistTasks1","title","taskTitle","isDone","task","find","todolistTasks3","task1","stateCopy","Error","removeTaskAC","addTaskAC","changeTaskStatusAC","changeTaskTitleAC"],"mappings":"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","sourcesContent":["import {TasksStateType} from \"../App\";\nimport {v1} from \"uuid\";\nimport {AddTodoListAT, RemoveTodoListAT} from \"./todolists-reducer\";\n\nexport type RemoveTaskAT = {\n    type: 'REMOVE-TASK'\n    todolistId: string\n    taskId: string\n}\nexport type AddTaskAT = {\n    type: \"ADD-TASK\"\n    todolistId: string\n    taskTitle: string\n}\nexport type ChangeTaskStatusAT = {\n    type: \"CHANGE-STATUS\"\n    todolistId: string\n    taskId: string\n    isDone: boolean\n}\nexport type ChangeTaskTitleAT = {\n    type: \"CHANGE-TITLE\"\n    todolistId: string\n    taskId: string\n    taskTitle: string\n}\ntype ActionType = RemoveTaskAT | AddTaskAT |\n    ChangeTaskStatusAT | ChangeTaskTitleAT | AddTodoListAT | RemoveTodoListAT\n\nexport const tasksReducer = (state: TasksStateType, action: ActionType): TasksStateType => {\n    switch (action.type) {\n        case \"REMOVE-TASK\":\n            let todolistTasks = state[action.todolistId];\n            state[action.todolistId] = todolistTasks.filter(t => t.id !== action.taskId);\n            return {...state}\n        case \"ADD-TASK\":\n            let todolistTasks1 = state[action.todolistId]\n            state[action.todolistId] = [{id: v1(), title: action.taskTitle, isDone: false}, ...todolistTasks1]\n            return {...state}\n        case \"CHANGE-STATUS\":\n            let task = state[action.todolistId].find(t => t.id === action.taskId)\n            if (task) task.isDone = action.isDone;\n            return {...state}\n        case \"CHANGE-TITLE\":\n            let todolistTasks3 = state[action.todolistId]\n            let task1 = todolistTasks3.find(t => t.id === action.taskId)\n            if (task1) task1.title = action.taskTitle\n            return {...state}\n        case 'ADD-TODOLIST':\n            const stateCopy = {...state}\n            stateCopy[action.todolistId] = []\n            return stateCopy//{...state, [action.todolistId]: []}\n        case 'REMOVE-TODOLIST':\n            delete state[action.id]\n            return {...state}\n        default:\n            throw new Error('incorrect task reducer action type')\n    }\n}\n\nexport const removeTaskAC = (todolistId: string, taskId: string):RemoveTaskAT => {\n    return {type: 'REMOVE-TASK', todolistId, taskId}\n}\nexport const addTaskAC = (todolistId: string, taskTitle: string):AddTaskAT => {\n    return {type: \"ADD-TASK\", todolistId, taskTitle}\n}\nexport const changeTaskStatusAC = (todolistId: string, taskId: string, isDone: boolean):ChangeTaskStatusAT => {\n    return {type: \"CHANGE-STATUS\", todolistId, taskId, isDone}\n}\nexport const changeTaskTitleAC = (todolistId: string, taskId: string, taskTitle: string):ChangeTaskTitleAT  => {\n    return {type: \"CHANGE-TITLE\", todolistId, taskId, taskTitle}\n}"]},"metadata":{},"sourceType":"module"}